Entirely cribbed from
https://github.com/benediktwerner/AdventOfCode/blob/master/2021/day18/sol.py

Just looked through the solution to understand it, and added notes.

I tried constructing this as a tree at first but was unable to find the left/right snail numbers for the explode step. Looking at the top answers in advent of code, it doesn't look like anyone used a tree. Some people suggested a binary tree, but none of the top answers implemented anything like that.